# Parity Tests

Parity tests ensure that every transformation we add to the project behaves identically to the canonical Lua implementation. Whenever we introduce a new transform or adjust an existing one, we must pair it with a parity test that runs the equivalent Lua reference via [lupa](https://pypi.org/project/lupa/) whenever possible.

These tests compare Python-side results against the output generated by executing the Lua reference snippet. A parity test should:

1. Provide a minimal Lua fixture that exercises the transform end-to-end.
2. Execute the Lua fixture through lupa within the test harness.
3. Run the Python implementation of the same transform.
4. Assert that the Lua and Python results match exactly, accounting for version-specific nuances.

Following this workflow guarantees that regressions in our Python translation are caught early and that parity is maintained for each supported Luraph version.
